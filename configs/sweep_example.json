{
  "module": "src.training.train",
  "results_dir": "results",
  "output_dir": "checkpoints",
  "skip_if_exists": true,
  "run_name_format": "{backbone}_{representation}_{run_tag}",
  "defaults": {
    "batch_size": 64,
    "epochs": 100,
    "lr": 0.0001,
    "optimizer": "adamw",
    "weight_decay": 0.0001,
    "scheduler": "cosine",
    "warmup_epochs": 5,
    "min_lr": 0.000001,
    "early_stopping_patience": 15,
    "normalization": "global",
    "use_cache": true,
    "auto_pos_weight": true,
    "tune_threshold": true,
    "per_device_eval": true,
    "save_predictions": true,
    "save_history": true
  },
  "grid": {
    "representation": ["mfcc", "gammatone"],
    "backbone": ["mobilenetv2", "efficientnet_b0"]
  },
  "runs": [
    {
      "name": "pooled",
      "device_filter": ["iphone", "android_phone", "digital_stethoscope"]
    },
    {
      "name": "cross_stetho",
      "train_device_filter": ["iphone", "android_phone"],
      "val_device_filter": ["iphone", "android_phone"],
      "test_device_filter": ["digital_stethoscope"]
    }
  ]
}
